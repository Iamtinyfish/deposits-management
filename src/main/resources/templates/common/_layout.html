<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
	<th:block th:fragment="metadata(pageTitle)">
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title th:utext="${pageTitle}"></title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
		<link th:href="@{/css/main.css}" rel="stylesheet">
	</th:block>
</head>
<body>

<nav th:fragment="navbar" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
     class="navbar navbar-expand-md navbar-dark bg-light">
	<a class="navbar-brand text-primary" href="#">Logo</a>
	<button class="navbar-toggler bg-primary" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="collapsibleNavbar">
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link" style="color: gray;" th:href="@{/my-profile}" role="button">
					Hồ sơ
				</a>
			</li>
			<li sec:authorize="hasRole('ROLE_USER')" class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" style="color: gray;" href="#" id="dropdown" role="button"
				   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Nhân viên
				</a>
				<div class="dropdown-menu" aria-labelledby="dropdown">
					<a class="dropdown-item" th:href="@{'/user/customer'}">Khách hàng</a>
					<!--             <a class="dropdown-item">Shoes</a>
											 <div class="dropdown-divider"></div>
											 <a class="dropdown-item" href="#">Something else here</a>-->
				</div>
			</li>
			<li class="nav-item">
				<a class="nav-link nav-item" style="color: gray;" role="button" sec:authorize="isAuthenticated()"
				   th:if="${#request.userPrincipal != null}"
				   href="javascript: document.logoutForm.submit()">
					Đăng xuất
				</a>
				<form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
					<input hidden type="submit" value="Sign Out"/>
				</form>
			</li>
		</ul>
	</div>
</nav>

<th:block th:fragment="js-lib">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
	        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
	        crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
	        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
	        crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
	        integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
	        crossorigin="anonymous"></script>
	<script src="@{/js/check-login.js}"></script >        
</th:block>
</body>
</html>